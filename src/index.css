@tailwind base;
@tailwind components;
@tailwind utilities;

/* Suppress passive event listener warnings for FullCalendar */
* {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* FullCalendar specific touch optimizations */
.fc * {
  touch-action: manipulation;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Hide event dots */
.fc-event-dot,
.fc-list-event-dot,
.fc-event::before,
.fc-event::after {
  display: none !important;
}

/* Prevent scroll blocking on calendar elements */
.fc-daygrid-day,
.fc-timegrid-slot,
.fc-list-item {
  touch-action: pan-y;
}

/* Optimize touch events for calendar navigation */
.fc-button,
.fc-daygrid-day-number,
.fc-event {
  touch-action: manipulation;
}

html, body, #root {
  min-height: 100dvh;
  width: 100vw;
  margin: 0;
  padding: 0;
  font-family: Arial, -apple-system, BlinkMacSystemFont, Roboto, sans-serif;
  background: #f3f4f6;
  color: #222;
}

.form-container {
  @apply min-h-screen flex flex-col px-4 sm:px-8 max-w-md sm:max-w-lg mx-auto bg-white rounded-xl shadow-lg border border-gray-100 border-b border-gray-200 pt-2;
}

/* Optimized input styles with minimal transitions */
input, select, textarea {
  @apply w-full border border-gray-300 rounded-md p-3 text-base bg-white mb-2 focus:outline-none focus:border-blue-500 placeholder-gray-400;
  transition: border-color 150ms ease, box-shadow 150ms ease; /* Only transition necessary properties */
}

/* Enhanced input overrides */
.enhanced-input input {
  @apply p-0;
}

/* Medical page styles */
.medical-option-button {
  background: #fff;
  color: #333;
  border: 1.5px solid #ccc;
  border-radius: 22px;
  padding: 10px 28px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, border 0.2s ease, box-shadow 0.2s ease; /* Optimized transitions */
  outline: none;
  box-shadow: 0 1px 4px rgba(0,0,0,0.04);
}

.medical-option-button.selected {
  background: #1677ff;
  color: #fff;
  border: 1.5px solid #1677ff;
  box-shadow: 0 2px 8px rgba(22,119,255,0.10);
}

.medical-option-button:active {
  background: #145bcc;
  color: #fff;
  border-color: #145bcc;
}

.medical-textarea {
  width: 100%;
  min-height: 80px;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 10px;
  font-size: 15px;
  margin-bottom: 10px;
  resize: vertical;
  box-sizing: border-box;
}

input:focus-visible, select:focus-visible, textarea:focus-visible {
  @apply ring-2 ring-blue-300;
}

input:disabled, select:disabled, textarea:disabled {
  @apply bg-gray-100 cursor-not-allowed opacity-70;
}

.primary-button {
  @apply w-full bg-gray-800 text-white py-4 rounded-xl text-lg font-semibold mt-6 transition hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed;
}

.error-message {
  @apply text-red-500 text-xs bg-red-50 px-2 py-1 rounded mb-2 transition-all duration-200;
}

.form-title {
  @apply text-left text-2xl font-bold text-[#1a253c] mb-1;
}

.form-subtitle {
  @apply text-left text-lg font-normal text-gray-500 mb-2;
}

.form-group {
  @apply mb-3;
}

.form-hint {
  @apply text-gray-500 text-xs mt-1;
}

.button-loading {
  @apply animate-pulse;
}

/* Custom FullCalendar Styles */
.modern-calendar {
  @apply font-sans;
}

.modern-calendar .fc-toolbar {
  @apply mb-6;
}

.modern-calendar .fc-toolbar-title {
  @apply text-xl font-bold text-gray-900;
}

.modern-calendar .fc-button {
  @apply bg-blue-600 border-blue-600 hover:bg-blue-700 hover:border-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  @apply px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200;
}

.modern-calendar .fc-button:disabled {
  @apply bg-gray-300 border-gray-300 text-gray-500 cursor-not-allowed;
}

.modern-calendar .fc-button-primary {
  @apply bg-blue-600 border-blue-600;
}

.modern-calendar .fc-button-primary:hover {
  @apply bg-blue-700 border-blue-700;
}

.modern-calendar .fc-button-primary:not(:disabled):active,
.modern-calendar .fc-button-primary:not(:disabled).fc-button-active {
  @apply bg-blue-800 border-blue-800;
}

.modern-calendar .fc-daygrid-day {
  @apply border-gray-200;
}

.modern-calendar .fc-daygrid-day-number {
  @apply text-gray-700 font-medium;
}

.modern-calendar .fc-daygrid-day.fc-day-today {
  @apply bg-blue-100 border-2 border-blue-300 relative;
}

.modern-calendar .fc-daygrid-day.fc-day-today .fc-daygrid-day-number {
  @apply bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold shadow-md;
}



.modern-calendar .fc-col-header-cell {
  @apply bg-gray-50 border-gray-200;
}

.modern-calendar .fc-col-header-cell-cushion {
  @apply text-gray-700 font-semibold text-sm;
}

.modern-calendar .fc-event {
  @apply rounded-lg border-0 shadow-sm cursor-pointer;
  @apply transition-all duration-200 hover:shadow-md;
}

.modern-calendar .fc-event:hover {
  @apply transform scale-105;
}

.modern-calendar .fc-event-title {
  @apply font-medium;
}

.modern-calendar .fc-daygrid-event {
  @apply rounded-md;
}

.modern-calendar .fc-daygrid-day-events {
  @apply mt-1;
}

.modern-calendar .fc-daygrid-day-frame {
  @apply min-h-[120px];
}

.modern-calendar .fc-daygrid-day-frame:hover {
  @apply bg-gray-50;
}

.modern-calendar .fc-daygrid-day-frame.fc-day-today {
  @apply bg-blue-100 border-2 border-blue-300;
}

.modern-calendar .fc-daygrid-day-frame.fc-day-today:hover {
  @apply bg-blue-200 border-blue-400;
}

/* Time Grid Styles */
.modern-calendar .fc-timegrid-slot {
  @apply border-gray-200;
}

.modern-calendar .fc-timegrid-slot-label {
  @apply text-gray-500 text-xs;
}

.modern-calendar .fc-timegrid-now-indicator-line {
  @apply border-red-500;
}

.modern-calendar .fc-timegrid-now-indicator-arrow {
  @apply border-red-500;
}

/* List View Styles */
.modern-calendar .fc-list-event {
  @apply border-gray-200;
}

.modern-calendar .fc-list-event:hover {
  @apply bg-gray-50;
}

.modern-calendar .fc-list-event-dot {
  display: none;
}

.modern-calendar .fc-list-event-title {
  @apply text-gray-900 font-medium;
}

.modern-calendar .fc-list-event-time {
  @apply text-gray-600;
}

/* Responsive Design */
@media (max-width: 768px) {
  .modern-calendar .fc-toolbar {
    @apply flex-col space-y-4;
  }
  
  .modern-calendar .fc-toolbar-chunk {
    @apply flex justify-center;
  }
  
  .modern-calendar .fc-button {
    @apply text-xs px-3 py-1;
  }
  
  .modern-calendar .fc-toolbar-title {
    @apply text-lg;
  }
}

/* Animation for fade-in */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

/* Custom scrollbar */
.modern-calendar ::-webkit-scrollbar {
  width: 6px;
}

.modern-calendar ::-webkit-scrollbar-track {
  @apply bg-gray-100 rounded-full;
}

.modern-calendar ::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

.modern-calendar ::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Mobile-friendly calendar styles */
.mobile-friendly-calendar .fc-daygrid-day {
  cursor: pointer;
  transition: background-color 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.mobile-friendly-calendar .fc-daygrid-day:hover {
  background-color: #f3f4f6;
}

.mobile-friendly-calendar .fc-daygrid-day:active {
  background-color: #e5e7eb;
}

/* Improve touch targets on mobile */
@media (max-width: 768px) {
  .mobile-friendly-calendar .fc-daygrid-day {
    min-height: 44px; /* Minimum touch target size */
  }
  
  .mobile-friendly-calendar .fc-daygrid-day-number {
    font-size: 16px;
    padding: 8px;
  }
}

/* Enhanced form styles for PWA */
.enhanced-form {
  @apply space-y-4;
}

.enhanced-form input,
.enhanced-form select,
.enhanced-form textarea {
  @apply w-full border border-gray-300 rounded-xl p-4 text-base bg-white 
         focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 
         transition-all duration-200 ease-out
         placeholder:text-gray-400
         disabled:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-70;
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .enhanced-form input,
  .enhanced-form select,
  .enhanced-form textarea {
    @apply p-4 text-base; /* Larger touch targets */
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  .enhanced-form button {
    @apply min-h-[44px]; /* Minimum touch target */
  }
}

/* PWA-specific styles */
@media (display-mode: standalone) {
  .pwa-optimized {
    @apply pt-4; /* Account for status bar */
  }
}

/* Smooth animations for better UX */
.animate-smooth {
  @apply transition-all duration-200 ease-out;
}

.animate-smooth-fast {
  @apply transition-all duration-150 ease-out;
}

/* Focus styles for accessibility */
.focus-visible {
  @apply outline-none ring-4 ring-blue-100 ring-offset-2;
}

/* Loading states */
.loading-shimmer {
  @apply animate-pulse bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200;
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Enhanced animations for better UX */
@keyframes slideInFromBottom {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInFromTop {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0);
  }
  70% {
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -2px, 0);
  }
}

/* Utility classes for animations */
.animate-slide-in-bottom {
  animation: slideInFromBottom 0.3s ease-out;
}

.animate-slide-in-top {
  animation: slideInFromTop 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

.animate-pulse-slow {
  animation: pulse 2s ease-in-out infinite;
}

.animate-bounce-slow {
  animation: bounce 2s ease-in-out infinite;
}

/* Hover effects */
.hover-lift {
  transition: transform 0.2s ease-out;
}

.hover-lift:hover {
  transform: translateY(-2px);
}

.hover-glow {
  transition: box-shadow 0.2s ease-out;
}

.hover-glow:hover {
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Focus styles for better accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50;
}

/* Mobile-specific optimizations */
@media (max-width: 640px) {
  .mobile-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }
  
  .mobile-safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* PWA-specific styles */
@media (display-mode: standalone) {
  .pwa-header {
    padding-top: env(safe-area-inset-top);
  }
  
  .pwa-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ===== CALENDAR PAGE STYLES ===== */

/* FullCalendar Styles */
.fc-day-today { background: #f8fafc !important; }
.fc-day-past { opacity: 0.4; }
.fc-day-future:hover { background: #f1f5f9; }
.fc-event { 
  border-radius: 6px !important; 
  font-weight: 500; 
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  cursor: pointer !important;
  width: 100% !important;
  height: 100% !important;
  min-height: 20px !important;
}
.fc-event-main {
  padding: 2px 4px !important;
  height: 100% !important;
  width: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}
.fc-event-title {
  font-size: 11px !important;
  font-weight: 600 !important;
  text-align: center !important;
  width: 100% !important;
}
.fc-event-time {
  display: none !important;
}
.fc-event-title-container {
  padding: 0 !important;
}
.fc-daygrid-event .fc-event-main {
  padding: 1px 2px !important;
}
.fc-daygrid-event {
  margin: 1px !important;
  border-radius: 4px !important;
}
.fc-toolbar-title { font-size: 1.25rem !important; font-weight: 600 !important; color: #111827; }
.fc-button { border-radius: 6px !important; font-size: 0.875rem !important; }
.fc-button-primary { background: #4f46e5 !important; border: none !important; }
.fc-button-primary:hover { background: #4338ca !important; }
.fc-toolbar { margin-bottom: 1rem !important; }
.fc-daygrid-day { 
  border: 1px solid #f3f4f6 !important; 
  aspect-ratio: 1 !important;
  height: 0 !important;
  padding-bottom: 14.28% !important;
  position: relative !important;
}
.fc-daygrid-day-frame {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: 100% !important;
}
.fc-daygrid-day-top {
  position: absolute !important;
  top: 2px !important;
  left: 2px !important;
  right: 2px !important;
  z-index: 2 !important;
}
.fc-daygrid-day-events {
  position: absolute !important;
  top: 20px !important;
  left: 2px !important;
  right: 2px !important;
  bottom: 2px !important;
}
.fc-daygrid-day-number {
  font-size: 12px !important;
  font-weight: 500 !important;
}

/* Mobile specific adjustments */
@media (max-width: 768px) {
  .fc-daygrid-day {
    min-height: 60px !important;
    height: 60px !important;
    padding-bottom: 0 !important;
  }
  .fc-daygrid-day-number {
    font-size: 11px !important;
  }
  .fc-event {
    font-size: 9px !important;
    min-height: 16px !important;
  }
  .fc-event-title {
    font-size: 9px !important;
  }
}

@keyframes scale-in {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.animate-scale-in { animation: scale-in 0.15s ease-out; }

/* React DatePicker Styles */
.react-datepicker {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  border: none;
  border-radius: 0;
  box-shadow: none;
  background: transparent;
  width: 100% !important;
  max-width: none !important;
}

.react-datepicker__navigation {
  display: none !important;
}

.react-datepicker__current-month {
  display: none !important;
}

.react-datepicker__header {
  background: transparent;
  border: none;
  padding: 0;
}

.react-datepicker__month-container {
  width: 100% !important;
  background: transparent;
}

.react-datepicker__month {
  margin: 0;
  padding: 0;
}

.react-datepicker__day-names {
  margin: 0;
  padding: 0;
  background: transparent;
}

.react-datepicker__day-name {
  color: #6b7280;
  font-weight: 600;
  font-size: 16px;
  padding: 16px 8px;
  margin: 0;
  width: 14.28%;
  text-align: center;
}

.react-datepicker__days {
  margin: 0;
  padding: 0;
  background: transparent;
}

.react-datepicker__day {
  border-radius: 8px;
  margin: 4px;
  width: 40px;
  height: 40px;
  line-height: 40px;
  font-size: 16px;
  font-weight: 500;
  background: transparent;
  border: none;
  color: #111827;
  text-align: center;
}

.react-datepicker__day:hover {
  background-color: #3b82f6;
  color: white;
  transform: scale(1.05);
}

.react-datepicker__day--selected {
  background-color: #3b82f6;
  color: white;
  font-weight: 600;
}

.react-datepicker__day--keyboard-selected {
  background-color: #3b82f6;
  color: white;
}

/* Booked date styles */
.react-datepicker__day--highlighted {
  position: relative;
}

.react-datepicker__day--highlighted::after {
  content: '';
  position: absolute;
  top: 8px;
  right: 8px;
  width: 6px;
  height: 6px;
  background-color: #3b82f6;
  border-radius: 50%;
}

.react-datepicker__day--outside-month {
  color: #d1d5db;
}

.react-datepicker__day--disabled {
  color: #d1d5db !important;
  cursor: not-allowed !important;
  background-color: #f3f4f6 !important;
  opacity: 0.5;
}

.react-datepicker__day--disabled:hover {
  background-color: #f3f4f6 !important;
  color: #d1d5db !important;
  transform: none !important;
}

/* Mobile touch optimization */
@media (max-width: 768px) {
  .react-datepicker__day {
    width: 45px;
    height: 45px;
    line-height: 45px;
    font-size: 18px;
    margin: 4px;
  }
  
  .react-datepicker__day-name {
    font-size: 18px;
    padding: 20px 8px;
  }
}

